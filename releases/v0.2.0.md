# Release Notes v0.2.0 - Intelligence Layer

**Release Date:** December 25, 2025
**Tag:** [v0.2.0](https://github.com/schimmmi/oura-mcp-server/releases/tag/v0.2.0)

---

## üéâ First Public Release

This is the first public release of the Oura MCP Server, featuring a complete intelligence layer for health data analysis.

---

## ‚ú® Major Features

### Intelligence Core

#### BaselineManager
- 30-day rolling averages for all metrics
- Standard deviation calculations
- Personal min/max ranges
- Deviation interpretation (absolute, percentage, z-score)

#### InterpretationEngine ‚≠ê NEW
- Semantic interpretation of all health scores
- HRV balance interpretation with autonomic nervous system context
- Resting heart rate analysis
- Body temperature deviation interpretation
- Holistic recovery state assessment (weighted multi-signal)
- Training readiness evaluation with sport-specific thresholds

#### AnomalyDetector
- Statistical anomaly detection (z-score based)
- Sleep-specific anomaly detection (deep sleep, restfulness)
- Readiness anomaly detection (HRV, temperature)
- Consecutive decline pattern detection
- Severity classification (high, medium, low)
- Possible cause identification

---

## üîß New MCP Tools

### 1. detect_recovery_status ‚≠ê
Multi-signal recovery assessment combining:
- HRV Balance (35% weight)
- Readiness Score (30%)
- Sleep Quality (20%)
- Resting HR Deviation (10%)
- Body Temperature (5%)

**Output:**
- Overall recovery state (Fully Recovered ‚Üí Not Recovered)
- Recovery score (0-100)
- Confidence level
- Contributing signals breakdown
- Training recommendations

### 2. assess_training_readiness ‚≠ê
Sport-specific training recommendations:
- **Training Types:** general, endurance, strength, high_intensity
- **Recommendations:** GO / NO-GO / CAUTION with confidence
- **Modifications:** Intensity & duration adjustments
- **Analysis:** Limiting factors identification

### 3. correlate_metrics ‚≠ê
Pearson correlation analysis between any two metrics:
- **30+ supported metrics** (see below)
- Strength classification (Strong/Moderate/Weak/None)
- Statistical summaries for both metrics
- Relationship interpretation

### 4. detect_anomalies ‚≠ê
Pattern and anomaly detection:
- Sleep & readiness anomalies
- Severity classification (High üî¥ / Medium üü° / Low üü¢)
- Possible causes identification
- Personalized thresholds based on baselines

### 5. generate_daily_brief (Enhanced)
Comprehensive daily health summary

### 6. analyze_sleep_trend (Enhanced)
Sleep pattern analysis with trend detection

---

## üìä New MCP Resources

### HRV Resources ‚≠ê NEW
- `oura://hrv/latest` - Latest HRV with 30-day baseline comparison
- `oura://hrv/trend/7_days` - 7-day HRV trend analysis
- `oura://hrv/trend/30_days` - 30-day HRV trend analysis

**Features:**
- 30-day baseline calculation
- Deviation from baseline (absolute & percentage)
- Semantic interpretation (Balanced/Moderate/Low/Very Low)
- Autonomic nervous system context
- Consecutive decline detection

### Enhanced Existing Resources
- Sleep resources with better error handling
- Readiness with full contributor breakdown
- Activity metrics

---

## üìã Supported Metrics for Correlation Analysis

### Sleep Metrics (9)
- `sleep_score` - Overall sleep score (0-100)
- `deep_sleep` - Deep sleep contributor score
- `rem_sleep` - REM sleep contributor score
- `light_sleep` - Light sleep contributor score
- `total_sleep` - Total sleep duration contributor score
- `efficiency` - Sleep efficiency contributor score
- `restfulness` - Restfulness contributor score
- `latency` - Sleep latency contributor score
- `timing` - Sleep timing contributor score

### Readiness Metrics (10)
- `readiness_score` - Overall readiness score
- `hrv_balance` - HRV balance contributor score
- `resting_heart_rate` - Resting heart rate contributor score
- `body_temperature` - Body temperature contributor score
- `activity_balance` - Activity balance contributor score
- `previous_day_activity` - Previous day activity contributor score
- `previous_night` - Previous night contributor score
- `recovery_index` - Recovery index contributor score
- `sleep_balance` - Sleep balance contributor score
- `sleep_regularity` - Sleep regularity contributor score

### Activity Metrics (4)
- `activity_score` - Overall activity score
- `steps` - Daily step count
- `total_calories` - Total calories burned
- `active_calories` - Active calories burned

**Total: 23 metrics available for correlation analysis**

---

## üê≥ Docker Support ‚≠ê NEW

### Docker Files
- **Dockerfile** - Multi-stage build for optimal image size (~200MB)
- **docker-compose.yml** - One-command deployment
- **Makefile** - Convenient shortcuts (`make up`, `make logs`, etc.)
- **.dockerignore** - Optimized build context

### Features
- Non-root user for security
- Health checks built-in
- Resource limits pre-configured (CPU: 0.5, Memory: 512M)
- Volume mounts for config and logs
- Automatic restart policy

### Quick Start
```bash
export OURA_ACCESS_TOKEN="your_token"
docker-compose up -d
```

See [docs/DOCKER.md](../docs/DOCKER.md) for complete guide.

---

## üìö Documentation

### New Documentation
- **[PHASE2_QUICKSTART.md](../docs/PHASE2_QUICKSTART.md)** - Complete user guide for Phase 2 features
- **[DOCKER.md](../docs/DOCKER.md)** - Complete Docker deployment guide
- **[IMPLEMENTATION_SUMMARY.md](../docs/IMPLEMENTATION_SUMMARY.md)** - Technical implementation details
- **[BUGFIXES.md](../docs/BUGFIXES.md)** - Bug tracking and known issues
- **[docs/README.md](../docs/README.md)** - Documentation overview

### Updated Documentation
- **[README.md](../README.md)** - Updated with Phase 2 features and Docker
- **[MCP_DESIGN.md](../docs/MCP_DESIGN.md)** - Updated with complete metric lists
- **[TEST_RESULTS.md](../docs/TEST_RESULTS.md)** - Phase 2 test results

---

## üêõ Bug Fixes

### Fixed: correlate_metrics not recognizing sleep contributor metrics

**Issue:** The `correlate_metrics` tool was not recognizing sleep contributor metrics like `deep_sleep`, `rem_sleep`, etc., resulting in "0 values" errors.

**Fix:** Added comprehensive lists of all contributor metrics:
- Sleep Contributors: `deep_sleep`, `rem_sleep`, `light_sleep`, `total_sleep`, `efficiency`, `restfulness`, `latency`, `timing`
- Readiness Contributors: `hrv_balance`, `resting_heart_rate`, `body_temperature`, etc.
- Activity Contributors: `meet_daily_targets`, `move_every_hour`, etc.

**Location:** `src/oura_mcp/core/server.py:710-741`

**Impact:** Users can now analyze correlations between ALL Oura metrics.

---

## üß™ Test Results

### Validation with Real Data
- ‚úÖ 100% test success rate
- ‚úÖ All Phase 2 features tested with real Oura data
- ‚úÖ Test suite: `tests/test_advanced_features.py`

### Real Insights Discovered
- **HRV ‚Üî Readiness:** +0.706 correlation (Strong positive) ‚≠ê
- **Deep Sleep ‚Üî Sleep Score:** +0.332 correlation (Weak positive)
- **Activity ‚Üî Sleep:** -0.165 correlation (Weak negative)
- **Anomaly Detection:** Deep sleep 49% below baseline detected
- **Recovery Scoring:** Validated with personal data (66.1/100)

---

## üì¶ Project Structure Changes

### New Directories
- `docker/` - Docker utilities and helpers
- `releases/` - Release notes for each version

### Reorganized
- All setup docs moved to `docs/`
- All tests in `tests/`
- All config in `config/`
- Clean root with only essentials

---

## üîê Security Features

- Non-root Docker user
- Read-only config mounts
- Environment-based secrets
- Local-only data processing
- Audit logging support (configurable)
- Configurable access levels

---

## üöÄ Performance

- Efficient baseline calculations
- Smart caching of API requests
- Rate limit compliance (60/min, 5000/day)
- Optimized Docker image (~200MB)
- Multi-stage Docker build

---

## üìä Statistics

- **42 files** tracked in Git
- **7,411 lines** of code
- **10+ documentation** files
- **6 MCP tools**
- **10+ MCP resources**
- **30+ metrics** supported
- **3 intelligence engines** (Baseline, Interpretation, Anomaly)

---

## üéØ Upgrade Instructions

This is the first release. For future upgrades from v0.1.0 (if you had a development version):

1. Pull latest changes
2. Update dependencies: `pip install -r requirements.txt`
3. No breaking changes - all existing functionality compatible
4. New tools auto-discovered by MCP clients

---

## üôè Prerequisites

- Python 3.10+ (or Docker)
- Oura Ring with API access
- Personal Access Token from [Oura Cloud](https://cloud.ouraring.com/personal-access-tokens)

---

## üìñ Quick Links

- **[Repository](https://github.com/schimmmi/oura-mcp-server)**
- **[Documentation](https://github.com/schimmmi/oura-mcp-server/tree/main/docs)**
- **[Docker Guide](../docs/DOCKER.md)**
- **[Phase 2 Quick Start](../docs/PHASE2_QUICKSTART.md)**
- **[Issues](https://github.com/schimmmi/oura-mcp-server/issues)**

---

## ü§ù Contributing

This is a personal project, but suggestions and improvements are welcome via issues!

---

## üìÑ License

MIT License - See [LICENSE](../LICENSE) file

Copyright (c) 2025 J√ºrgen Schilling

---

## üéâ Credits

Built with ‚ù§Ô∏è using:
- [Claude Code](https://claude.com/claude-code) by Anthropic
- [Model Context Protocol (MCP)](https://modelcontextprotocol.io/) by Anthropic
- [Oura Ring API v2](https://cloud.ouraring.com/v2/docs)
- Real Oura Ring data for validation

---

**Previous Release:** None (first release)
**Next Release:** TBD

---

*Released on December 25, 2025*
