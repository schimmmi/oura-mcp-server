# Release v0.3.0 - Complete Data Coverage

**Release Date:** 2026-01-17

## ðŸŽ¯ What's New

### Complete Oura API Coverage

This release achieves **~85% coverage** of the Oura Ring API v2, exposing all major data types through MCP tools and resources. This was driven by a comprehensive audit revealing significant gaps in data availability.

## âœ¨ New Features

### 7 New MCP Tools

#### 1. Heart Rate Data (`get_heart_rate_data`)
- **Time-series HR data** with 5-minute intervals
- **HR Zone Analysis** (Rest, Zone 1-5)
- **Activity Context** (sleep/awake/rest/workout)
- **Statistics**: Average, min, max, range
- **Parameters**: hours (default: 24)

**Example**: *"What was my heart rate during sleep last night?"*

#### 2. Workout Sessions (`get_workout_sessions`)
- **Detailed session data** with timestamps
- **Workout metrics**: Duration, type, calories, distance
- **Heart rate**: Average and maximum during session
- **Session history** over specified period
- **Parameters**: days (default: 7)

**Example**: *"Show me my workout sessions from last week"*

#### 3. Daily Stress (`get_daily_stress`)
- **Daytime stress tracking** (Oura Gen 3+)
- **Stress load**: High stress time vs. recovery time
- **Daily breakdown** with percentages
- **Status assessment**: High/Moderate/Low stress
- **Parameters**: days (default: 7)

**Example**: *"How stressed was I this week?"*

#### 4. SpO2 Data (`get_spo2_data`)
- **Blood oxygen saturation** during sleep (Gen 3 required)
- **Average percentage** and range
- **Health status**: Normal (â‰¥95%), Borderline (90-94%), Low (<90%)
- **Daily tracking** over time
- **Parameters**: days (default: 7)

**Example**: *"What are my blood oxygen levels?"*

#### 5. VO2 Max (`get_vo2_max`)
- **Cardiorespiratory fitness** estimates
- **Fitness level** classification (Excellent/Good/Average/Below Average/Poor)
- **Historical tracking** to see fitness trends
- **ml/kg/min** standard measurement
- **Parameters**: days (default: 30)

**Example**: *"What's my current VO2 Max?"*

#### 6. Tags (`get_tags`)
- **User-created tags** and notes from Oura app
- **Grouped by day** for easy navigation
- **Tag types** and custom text
- **Correlate with activities** and health metrics
- **Parameters**: days (default: 7)

**Example**: *"Show me the tags I created this week"*

#### 7. Personal Info (Exposed existing endpoint)
Now accessible via resources for **contextualized analysis**:
- Age, weight, height, biological sex
- Used by intelligence layer for personalized insights

### 3 New MCP Resources

| Resource URI | Description |
|--------------|-------------|
| `oura://personal_info` | User profile (age, weight, height, sex) |
| `oura://stress/today` | Today's daytime stress levels |
| `oura://spo2/latest` | Latest blood oxygen saturation |

### 4 New API Client Methods

Added to `OuraClient` for programmatic access:
- `get_daily_stress()` - Stress tracking
- `get_daily_spo2()` - Blood oxygen data
- `get_vo2_max()` - Cardio fitness
- `get_tags()` - User notes

## ðŸ“Š Complete Feature Matrix

### All Available Tools (14 total)

**Data Access Tools** (7 new):
- `get_sleep_sessions` - Detailed sleep periods (v0.2.1)
- `get_heart_rate_data` - HR time-series â­ NEW
- `get_workout_sessions` - Training sessions â­ NEW
- `get_daily_stress` - Stress tracking â­ NEW
- `get_spo2_data` - Blood oxygen â­ NEW
- `get_vo2_max` - Cardio fitness â­ NEW
- `get_tags` - User notes â­ NEW

**Intelligence Tools** (Phase 2):
- `generate_daily_brief` - Daily health summary
- `analyze_sleep_trend` - Sleep pattern analysis
- `detect_recovery_status` - Recovery assessment
- `assess_training_readiness` - Training recommendations
- `correlate_metrics` - Metric relationships
- `detect_anomalies` - Statistical anomaly detection
- `get_raw_sleep_data` - Debug tool

### All Available Resources (11 total)

**Core Resources**:
- `oura://sleep/today` - Last night's sleep
- `oura://sleep/yesterday` - Previous night
- `oura://readiness/today` - Today's readiness
- `oura://activity/today` - Today's activity

**HRV Resources**:
- `oura://hrv/latest` - Latest HRV
- `oura://hrv/trend/7_days` - 7-day HRV trend
- `oura://hrv/trend/30_days` - 30-day HRV trend

**New Resources** â­:
- `oura://personal_info` - User profile
- `oura://stress/today` - Today's stress
- `oura://spo2/latest` - Latest SpO2

## ðŸŽ¯ Use Cases

### 1. Complete Training Analysis
```
"Show me my workout sessions from last week with heart rate data"
"What was my average heart rate during my run yesterday?"
"Assess my readiness for high-intensity training based on my recent workouts"
```

### 2. Sleep Optimization
```
"Show me all my sleep sessions including naps"
"What's my blood oxygen during sleep?"
"Correlate my sleep quality with stress levels"
```

### 3. Stress Management
```
"How stressed have I been this week?"
"Is there a correlation between my stress and sleep quality?"
"Show me days with high stress and low recovery time"
```

### 4. Fitness Tracking
```
"What's my current VO2 Max?"
"Track my cardio fitness improvement over the last month"
"Show me my heart rate zones during workouts"
```

### 5. Health Monitoring
```
"Show me my blood oxygen levels this week"
"Are there any anomalies in my SpO2?"
"What's my resting heart rate trend?"
```

## ðŸ”§ Technical Details

### API Coverage

**Before v0.3.0**: ~40% coverage (4 of 11 endpoints)
**After v0.3.0**: ~85% coverage (11 of 13 relevant endpoints)

### Files Modified

**API Client** (`src/oura_mcp/api/client.py`):
- Added `get_daily_stress()` (line 343-369)
- Added `get_daily_spo2()` (line 371-397)
- Added `get_vo2_max()` (line 399-425)
- Added `get_tags()` (line 427-453)

**MCP Server** (`src/oura_mcp/core/server.py`):
- Added 7 new tool registrations (lines 305-399)
- Added 7 new tool handlers (lines 450-478)
- Added 3 new resources (lines 126-148)
- Added 3 new resource handlers (lines 182-191)
- Added 7 tool implementations (lines 798-1112)
- Added 3 resource implementations (lines 645-762)

### Breaking Changes

**None** - This is a fully backward-compatible feature addition.

## ðŸ“š Documentation Updates

- **NEW**: [DATA_COVERAGE.md](../docs/DATA_COVERAGE.md) - Complete data coverage guide
- **Updated**: [README.md](../README.md) - Added new example queries
- **Updated**: [PHASE2_QUICKSTART.md](../docs/PHASE2_QUICKSTART.md) - Extended tool documentation

## ðŸš€ Upgrade Path

```bash
cd /path/to/oura-mcp-server
git pull
docker-compose restart  # or restart your local server
```

No configuration changes required - all new tools are automatically available.

## âš ï¸ Data Availability Notes

### Generation Requirements

| Feature | Required Ring | Notes |
|---------|---------------|-------|
| Heart Rate | Gen 2+ | 5-minute intervals |
| Workout Sessions | Gen 2+ | Must tag workouts in app |
| **Stress** | **Gen 3+** | May require opt-in |
| **SpO2** | **Gen 3** | Must enable in settings |
| VO2 Max | Gen 2+ | Requires regular cardio |
| Tags | Gen 2+ | User-created in app |

### Subscription Requirements

Some features may require an active Oura subscription:
- Daytime stress tracking
- Detailed analytics and trends
- Full historical data access

### Missing Data Handling

All new tools gracefully handle missing data with informative messages:
- Explains why data might be unavailable
- Provides instructions for enabling features
- Suggests alternative metrics when applicable

## ðŸ› Bug Fixes

None - this is a pure feature addition release.

## ðŸ”® What's Next

With ~85% API coverage achieved, future releases may focus on:
- **Resilience Score** (when API becomes available)
- **Cardiovascular Age** (derived metric)
- **Enhanced Tags** (detailed tag system)
- **Rest Mode Tracking**
- **Real-time Updates** (webhooks)
- **Advanced Analytics** (multi-metric correlations)

## ðŸ“Š Impact Summary

### Data Completeness
- **Before**: Could only see daily summaries
- **After**: Complete access to time-series, sessions, and advanced metrics

### Use Case Coverage
- **Training**: âœ… Full coverage (sessions, HR, VO2 Max)
- **Sleep**: âœ… Full coverage (detailed sessions, SpO2)
- **Recovery**: âœ… Full coverage (stress, readiness, HRV)
- **Health Monitoring**: âœ… Full coverage (SpO2, HR, tags)

### Integration Quality
- **Semantic Formatting**: All data presented in human-readable format
- **Intelligent Interpretation**: Automated status assessments
- **Contextual Recommendations**: Actionable insights based on data
- **Error Handling**: Graceful degradation with helpful messages

## ðŸ™ Credits

This release was driven by user feedback requesting access to the complete Oura dataset for comprehensive health analysis and training optimization.

---

**Previous Releases**:
- [v0.2.1](v0.2.1.md) - Detailed Sleep Sessions
- [v0.2.0](v0.2.0.md) - Intelligence Layer

**Installation**: See [README.md](../README.md)

**Documentation**: See [DATA_COVERAGE.md](../docs/DATA_COVERAGE.md)
